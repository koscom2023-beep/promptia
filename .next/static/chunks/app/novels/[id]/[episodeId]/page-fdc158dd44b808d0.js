(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[602],{7621:function(e,t,r){Promise.resolve().then(r.bind(r,2838)),Promise.resolve().then(r.bind(r,6664)),Promise.resolve().then(r.bind(r,5514)),Promise.resolve().then(r.bind(r,7871))},2838:function(e,t,r){"use strict";r.d(t,{AdSenseUnit:function(){return n}});var a=r(7437),s=r(2265);function n(e){let{adSlot:t,adFormat:r,style:n,className:c=""}=e;return(0,s.useEffect)(()=>{try{(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(e){console.error("AdSense 오류:",e)}},[]),(0,a.jsx)("div",{className:c,style:n,children:(0,a.jsx)("ins",{className:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-XXXXX","data-ad-slot":t,"data-ad-format":r,"data-full-width-responsive":"true"})})}},6664:function(e,t,r){"use strict";r.d(t,{CommentsSection:function(){return l}});var a=r(7437),s=r(2265);r(3079);var n=r(2119);(0,n.$)("4721cd8f16de5c60293981656d22d06f936768e2"),(0,n.$)("74d2f150d44949b04a11bc9adedc4a3f3da4edea");var c=(0,n.$)("425e48944fdb9010def0349046ce0357f32163c4");function l(e){let{episodeId:t,novelId:r,initialComments:n}=e,[l,o]=(0,s.useState)(n),[d,i]=(0,s.useState)(""),[u,b]=(0,s.useState)(""),[f,m]=(0,s.useState)(!1),h=async e=>{if(e.preventDefault(),u.trim()){m(!0);try{let e=await c(t,r,d||"익명",u);o([e,...l]),b(""),i("")}catch(e){console.error("댓글 작성 오류:",e),alert("댓글 작성에 실패했습니다.")}finally{m(!1)}}};return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold mb-4",children:["댓글 (",l.length,")"]}),(0,a.jsxs)("form",{onSubmit:h,className:"mb-6 space-y-3",children:[(0,a.jsx)("input",{type:"text",placeholder:"닉네임 (선택사항)",value:d,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded"}),(0,a.jsx)("textarea",{placeholder:"댓글을 입력하세요",value:u,onChange:e=>b(e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded"}),(0,a.jsx)("button",{type:"submit",disabled:f||!u.trim(),className:"px-4 py-2 bg-gray-900 text-white rounded hover:bg-gray-800 disabled:opacity-50",children:f?"작성 중...":"댓글 작성"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[l.map(e=>(0,a.jsxs)("div",{className:"border-b border-gray-200 pb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"font-semibold",children:e.nickname}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString("ko-KR")})]}),(0,a.jsx)("p",{className:"text-gray-700",children:e.content})]},e.id)),0===l.length&&(0,a.jsx)("p",{className:"text-gray-500 text-center py-8",children:"댓글이 없습니다."})]})]})}(0,n.$)("252b8c741b2b470ec7ddabfe520daa48ae638eca"),(0,n.$)("c1165bfd3b9c0ca233a7597813de7b7175148ab5")},5514:function(e,t,r){"use strict";r.d(t,{ReportButton:function(){return c}});var a=r(7437),s=r(2265);r(3079);var n=(0,r(2119).$)("805bc7acf2f1f0a2e4d747ef7c4e8715c1cb693c");function c(e){let{novelId:t,episodeId:r}=e,[c,l]=(0,s.useState)(!1),o=async()=>{let e=prompt("신고 사유를 입력해주세요:");if(e&&e.trim()){l(!0);try{let a=await n(t,r,e);a.success?alert(a.message||"신고가 접수되었습니다."):alert(a.error||"신고에 실패했습니다.")}catch(e){console.error("신고 오류:",e),alert("신고 중 오류가 발생했습니다.")}finally{l(!1)}}};return(0,a.jsx)("button",{onClick:o,disabled:c,className:"px-4 py-2 text-sm text-red-600 hover:text-red-700 border border-red-300 rounded hover:bg-red-50 transition-colors",children:c?"신고 중...":"신고하기"})}},7871:function(e,t,r){"use strict";r.d(t,{VoteButton:function(){return c}});var a=r(7437),s=r(2265);r(3079);var n=(0,r(2119).$)("99cb5d7c0e6734eeb3681bb63e916fde20bdc176");function c(e){let{episodeId:t,hasVoted:r,voteCount:c}=e,[l,o]=(0,s.useState)(!1),[d,i]=(0,s.useState)(r),[u,b]=(0,s.useState)(c),f=async()=>{if(!d&&!l){o(!0);try{let e=await n(t);e.success?(i(!0),b(u+1)):alert(e.error||"투표에 실패했습니다.")}catch(e){console.error("투표 오류:",e),alert("투표 중 오류가 발생했습니다.")}finally{o(!1)}}};return(0,a.jsx)("button",{onClick:f,disabled:d||l,className:"px-6 py-3 rounded-lg font-semibold transition-colors ".concat(d?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:l?"투표 중...":d?"이미 투표했습니다":"추천하기"})}},2119:function(e,t,r){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return s}});let a=r(3079);function s(e){let{createServerReference:t}=r(6671);return t(e,a.callServer)}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=7621)}),_N_E=e.O()}]);