"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_action-browser_app_actions_gamification_ts";
exports.ids = ["_action-browser_app_actions_gamification_ts"];
exports.modules = {

/***/ "(action-browser)/./app/actions/gamification.ts":
/*!*************************************!*\
  !*** ./app/actions/gamification.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateStreak: () => (/* binding */ calculateStreak),\n/* harmony export */   checkAndGrantAchievement: () => (/* binding */ checkAndGrantAchievement),\n/* harmony export */   getActivityLogs: () => (/* binding */ getActivityLogs),\n/* harmony export */   getGamificationProfile: () => (/* binding */ getGamificationProfile),\n/* harmony export */   getUserAchievements: () => (/* binding */ getUserAchievements),\n/* harmony export */   logActivity: () => (/* binding */ logActivity)\n/* harmony export */ });\n/* harmony import */ var private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! private-next-rsc-server-reference */ \"(action-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/server-reference.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! private-next-rsc-action-encryption */ \"(action-browser)/./node_modules/next/dist/server/app-render/encryption.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_supabase_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/supabase/server */ \"(action-browser)/./lib/supabase/server.ts\");\n/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/cache */ \"(action-browser)/./node_modules/next/cache.js\");\n/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_cache__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-rsc-action-validate */ \"(action-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js\");\n/* __next_internal_action_entry_do_not_use__ {\"32bd4f625fdff5ec676827bcec6cfcd49b0493af\":\"getGamificationProfile\",\"74c2a70456b26e9afe7d3546142e4b63036d7087\":\"getActivityLogs\",\"92dfd232cb6dc7865f92b104cc3209b85135bcc2\":\"calculateStreak\",\"aa425d151b3401f8e6fe222bd7de6ef942ae3546\":\"getUserAchievements\",\"c331b886812bcdba37306b5fa17229afd0e6674e\":\"logActivity\",\"f9bd3ed3a6b07107e1c5e70e0bf95af78faeb28b\":\"checkAndGrantAchievement\"} */ \n\n\n\n/**\r\n * 활동 로그 기록\r\n * @param activityType - 활동 유형\r\n * @param xpEarned - 획득한 XP\r\n * @param metadata - 추가 메타데이터 (작품 ID, 댓글 ID 등)\r\n */ async function logActivity(activityType, xpEarned, metadata) {\n    const supabase = await (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_2__.createClient)();\n    // 현재 사용자 확인\n    const { data: { user }, error: userError } = await supabase.auth.getUser();\n    if (userError || !user) {\n        throw new Error(\"인증이 필요합니다.\");\n    }\n    // 활동 로그 삽입 (트리거가 자동으로 프로필 업데이트)\n    const { error } = await supabase.from(\"activity_logs\").insert({\n        user_id: user.id,\n        activity_type: activityType,\n        xp_earned: xpEarned,\n        metadata: metadata || {},\n        activity_date: new Date().toISOString().split(\"T\")[0]\n    });\n    if (error) {\n        console.error(\"활동 로그 기록 실패:\", error);\n        throw new Error(\"활동 로그 기록에 실패했습니다.\");\n    }\n    // 캐시 무효화\n    (0,next_cache__WEBPACK_IMPORTED_MODULE_3__.revalidatePath)(\"/\");\n}\n/**\r\n * 사용자 게이미피케이션 프로필 조회\r\n */ async function getGamificationProfile() {\n    const supabase = await (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_2__.createClient)();\n    const { data: { user }, error: userError } = await supabase.auth.getUser();\n    if (userError || !user) {\n        return null;\n    }\n    const { data, error } = await supabase.from(\"gamification_profiles\").select(\"*\").eq(\"user_id\", user.id).single();\n    if (error) {\n        // 프로필이 없으면 기본값 반환\n        if (error.code === \"PGRST116\") {\n            return {\n                user_id: user.id,\n                current_streak: 0,\n                longest_streak: 0,\n                total_xp: 0,\n                weekly_xp: 0,\n                level: 1,\n                last_activity_at: null\n            };\n        }\n        console.error(\"프로필 조회 실패:\", error);\n        return null;\n    }\n    return data;\n}\n/**\r\n * 사용자 업적 목록 조회\r\n */ async function getUserAchievements() {\n    const supabase = await (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_2__.createClient)();\n    const { data: { user }, error: userError } = await supabase.auth.getUser();\n    if (userError || !user) {\n        return [];\n    }\n    const { data, error } = await supabase.from(\"user_achievements\").select(`\r\n      id,\r\n      unlocked_at,\r\n      achievements (\r\n        id,\r\n        code,\r\n        name,\r\n        description,\r\n        icon_url,\r\n        xp_reward,\r\n        category\r\n      )\r\n    `).eq(\"user_id\", user.id).order(\"unlocked_at\", {\n        ascending: false\n    });\n    if (error) {\n        console.error(\"업적 조회 실패:\", error);\n        return [];\n    }\n    return data || [];\n}\n/**\r\n * 사용자 활동 로그 조회\r\n * @param limit - 조회할 로그 수 (기본값: 50)\r\n */ async function getActivityLogs(limit = 50) {\n    const supabase = await (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_2__.createClient)();\n    const { data: { user }, error: userError } = await supabase.auth.getUser();\n    if (userError || !user) {\n        return [];\n    }\n    const { data, error } = await supabase.from(\"activity_logs\").select(\"*\").eq(\"user_id\", user.id).order(\"created_at\", {\n        ascending: false\n    }).limit(limit);\n    if (error) {\n        console.error(\"활동 로그 조회 실패:\", error);\n        return [];\n    }\n    return data || [];\n}\n/**\r\n * 업적 달성 체크 및 부여\r\n * @param achievementCode - 업적 코드\r\n */ async function checkAndGrantAchievement(achievementCode) {\n    const supabase = await (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_2__.createClient)();\n    const { data: { user }, error: userError } = await supabase.auth.getUser();\n    if (userError || !user) {\n        return false;\n    }\n    // 이미 달성했는지 확인\n    const { data: existing } = await supabase.from(\"user_achievements\").select(\"id\").eq(\"user_id\", user.id).eq(\"achievements.code\", achievementCode).single();\n    if (existing) {\n        return false; // 이미 달성함\n    }\n    // 업적 정보 조회\n    const { data: achievement, error: achievementError } = await supabase.from(\"achievements\").select(\"*\").eq(\"code\", achievementCode).eq(\"is_active\", true).single();\n    if (achievementError || !achievement) {\n        return false;\n    }\n    // 업적 부여\n    const { error: insertError } = await supabase.from(\"user_achievements\").insert({\n        user_id: user.id,\n        achievement_id: achievement.id\n    });\n    if (insertError) {\n        console.error(\"업적 부여 실패:\", insertError);\n        return false;\n    }\n    // 업적 보상 XP 지급\n    if (achievement.xp_reward > 0) {\n        await logActivity(\"daily_login\", achievement.xp_reward, {\n            achievement_code: achievementCode\n        });\n    }\n    return true;\n}\n/**\r\n * Streak 수동 계산 (테스트용)\r\n */ async function calculateStreak() {\n    const supabase = await (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_2__.createClient)();\n    const { data: { user }, error: userError } = await supabase.auth.getUser();\n    if (userError || !user) {\n        return null;\n    }\n    const { data, error } = await supabase.rpc(\"calculate_user_streak\", {\n        p_user_id: user.id\n    });\n    if (error) {\n        console.error(\"Streak 계산 실패:\", error);\n        return null;\n    }\n    return data;\n}\n\n(0,private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_4__.ensureServerEntryExports)([\n    logActivity,\n    getGamificationProfile,\n    getUserAchievements,\n    getActivityLogs,\n    checkAndGrantAchievement,\n    calculateStreak\n]);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"c331b886812bcdba37306b5fa17229afd0e6674e\", logActivity);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"32bd4f625fdff5ec676827bcec6cfcd49b0493af\", getGamificationProfile);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"aa425d151b3401f8e6fe222bd7de6ef942ae3546\", getUserAchievements);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"74c2a70456b26e9afe7d3546142e4b63036d7087\", getActivityLogs);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"f9bd3ed3a6b07107e1c5e70e0bf95af78faeb28b\", checkAndGrantAchievement);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"92dfd232cb6dc7865f92b104cc3209b85135bcc2\", calculateStreak);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2FwcC9hY3Rpb25zL2dhbWlmaWNhdGlvbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFcUQ7QUFDVDtBQWE1Qzs7Ozs7Q0FLQyxHQUNNLGVBQWVFLFlBQ3BCQyxZQUEwQixFQUMxQkMsUUFBZ0IsRUFDaEJDLFFBQThCO0lBRTlCLE1BQU1DLFdBQVcsTUFBTU4sa0VBQVlBO0lBRW5DLFlBQVk7SUFDWixNQUFNLEVBQ0pPLE1BQU0sRUFBRUMsSUFBSSxFQUFFLEVBQ2RDLE9BQU9DLFNBQVMsRUFDakIsR0FBRyxNQUFNSixTQUFTSyxJQUFJLENBQUNDLE9BQU87SUFFL0IsSUFBSUYsYUFBYSxDQUFDRixNQUFNO1FBQ3RCLE1BQU0sSUFBSUssTUFBTTtJQUNsQjtJQUVBLGdDQUFnQztJQUNoQyxNQUFNLEVBQUVKLEtBQUssRUFBRSxHQUFHLE1BQU1ILFNBQVNRLElBQUksQ0FBQyxpQkFBaUJDLE1BQU0sQ0FBQztRQUM1REMsU0FBU1IsS0FBS1MsRUFBRTtRQUNoQkMsZUFBZWY7UUFDZmdCLFdBQVdmO1FBQ1hDLFVBQVVBLFlBQVksQ0FBQztRQUN2QmUsZUFBZSxJQUFJQyxPQUFPQyxXQUFXLEdBQUdDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtJQUN2RDtJQUVBLElBQUlkLE9BQU87UUFDVGUsUUFBUWYsS0FBSyxDQUFDLGdCQUFnQkE7UUFDOUIsTUFBTSxJQUFJSSxNQUFNO0lBQ2xCO0lBRUEsU0FBUztJQUNUWiwwREFBY0EsQ0FBQztBQUNqQjtBQUVBOztDQUVDLEdBQ00sZUFBZXdCO0lBQ3BCLE1BQU1uQixXQUFXLE1BQU1OLGtFQUFZQTtJQUVuQyxNQUFNLEVBQ0pPLE1BQU0sRUFBRUMsSUFBSSxFQUFFLEVBQ2RDLE9BQU9DLFNBQVMsRUFDakIsR0FBRyxNQUFNSixTQUFTSyxJQUFJLENBQUNDLE9BQU87SUFFL0IsSUFBSUYsYUFBYSxDQUFDRixNQUFNO1FBQ3RCLE9BQU87SUFDVDtJQUVBLE1BQU0sRUFB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dGlvbi50cz85ZDY5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHNlcnZlclwiO1xyXG5cclxuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSBcIkAvbGliL3N1cGFiYXNlL3NlcnZlclwiO1xyXG5pbXBvcnQgeyByZXZhbGlkYXRlUGF0aCB9IGZyb20gXCJuZXh0L2NhY2hlXCI7XHJcblxyXG4vKipcclxuICog7Zmc64+ZIOuhnOq3uCDtg4DsnoVcclxuICovXHJcbmV4cG9ydCB0eXBlIEFjdGl2aXR5VHlwZSA9XHJcbiAgfCBcImNvbW1lbnRcIlxyXG4gIHwgXCJ2b3RlXCJcclxuICB8IFwidXBsb2FkXCJcclxuICB8IFwiZGFpbHlfbG9naW5cIlxyXG4gIHwgXCJyZXBseVwiXHJcbiAgfCBcInZpZXdcIjtcclxuXHJcbi8qKlxyXG4gKiDtmZzrj5kg66Gc6re4IOq4sOuhnVxyXG4gKiBAcGFyYW0gYWN0aXZpdHlUeXBlIC0g7Zmc64+ZIOycoO2YlVxyXG4gKiBAcGFyYW0geHBFYXJuZWQgLSDtmo3rk53tlZwgWFBcclxuICogQHBhcmFtIG1ldGFkYXRhIC0g7LaU6rCAIOuplO2DgOuNsOydtO2EsCAo7J6R7ZKIIElELCDrjJPquIAgSUQg65OxKVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvZ0FjdGl2aXR5KFxyXG4gIGFjdGl2aXR5VHlwZTogQWN0aXZpdHlUeXBlLFxyXG4gIHhwRWFybmVkOiBudW1iZXIsXHJcbiAgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+XHJcbikge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XHJcblxyXG4gIC8vIO2YhOyerCDsgqzsmqnsnpAg7ZmV7J24XHJcbiAgY29uc3Qge1xyXG4gICAgZGF0YTogeyB1c2VyIH0sXHJcbiAgICBlcnJvcjogdXNlckVycm9yLFxyXG4gIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcclxuXHJcbiAgaWYgKHVzZXJFcnJvciB8fCAhdXNlcikge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwi7J247Kad7J20IO2VhOyalO2VqeuLiOuLpC5cIik7XHJcbiAgfVxyXG5cclxuICAvLyDtmZzrj5kg66Gc6re4IOyCveyehSAo7Yq466as6rGw6rCAIOyekOuPmeycvOuhnCDtlITroZztlYQg7JeF642w7J207Yq4KVxyXG4gIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oXCJhY3Rpdml0eV9sb2dzXCIpLmluc2VydCh7XHJcbiAgICB1c2VyX2lkOiB1c2VyLmlkLFxyXG4gICAgYWN0aXZpdHlfdHlwZTogYWN0aXZpdHlUeXBlLFxyXG4gICAgeHBfZWFybmVkOiB4cEVhcm5lZCxcclxuICAgIG1ldGFkYXRhOiBtZXRhZGF0YSB8fCB7fSxcclxuICAgIGFjdGl2aXR5X2RhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdChcIlRcIilbMF0sIC8vIFlZWVktTU0tREQg7ZiV7IudXHJcbiAgfSk7XHJcblxyXG4gIGlmIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIu2ZnOuPmSDroZzqt7gg6riw66GdIOyLpO2MqDpcIiwgZXJyb3IpO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwi7Zmc64+ZIOuhnOq3uCDquLDroZ3sl5Ag7Iuk7Yyo7ZaI7Iq164uI64ukLlwiKTtcclxuICB9XHJcblxyXG4gIC8vIOy6kOyLnCDrrLTtmqjtmZRcclxuICByZXZhbGlkYXRlUGF0aChcIi9cIik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDsgqzsmqnsnpAg6rKM7J2066+47ZS87LyA7J207IWYIO2UhOuhnO2VhCDsobDtmoxcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRHYW1pZmljYXRpb25Qcm9maWxlKCkge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XHJcblxyXG4gIGNvbnN0IHtcclxuICAgIGRhdGE6IHsgdXNlciB9LFxyXG4gICAgZXJyb3I6IHVzZXJFcnJvcixcclxuICB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XHJcblxyXG4gIGlmICh1c2VyRXJyb3IgfHwgIXVzZXIpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKFwiZ2FtaWZpY2F0aW9uX3Byb2ZpbGVzXCIpXHJcbiAgICAuc2VsZWN0KFwiKlwiKVxyXG4gICAgLmVxKFwidXNlcl9pZFwiLCB1c2VyLmlkKVxyXG4gICAgLnNpbmdsZSgpO1xyXG5cclxuICBpZiAoZXJyb3IpIHtcclxuICAgIC8vIO2UhOuhnO2VhOydtCDsl4bsnLzrqbQg6riw67O46rCSIOuwmO2ZmFxyXG4gICAgaWYgKGVycm9yLmNvZGUgPT09IFwiUEdSU1QxMTZcIikge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHVzZXJfaWQ6IHVzZXIuaWQsXHJcbiAgICAgICAgY3VycmVudF9zdHJlYWs6IDAsXHJcbiAgICAgICAgbG9uZ2VzdF9zdHJlYWs6IDAsXHJcbiAgICAgICAgdG90YWxfeHA6IDAsXHJcbiAgICAgICAgd2Vla2x5X3hwOiAwLFxyXG4gICAgICAgIGxldmVsOiAxLFxyXG4gICAgICAgIGxhc3RfYWN0aXZpdHlfYXQ6IG51bGwsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmVycm9yKFwi7ZSE66Gc7ZWEIOyhsO2ajCDsi6TtjKg6XCIsIGVycm9yKTtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGRhdGE7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDsgqzsmqnsnpAg7JeF7KCBIOuqqeuhnSDsobDtmoxcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyQWNoaWV2ZW1lbnRzKCkge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XHJcblxyXG4gIGNvbnN0IHtcclxuICAgIGRhdGE6IHsgdXNlciB9LFxyXG4gICAgZXJyb3I6IHVzZXJFcnJvcixcclxuICB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XHJcblxyXG4gIGlmICh1c2VyRXJyb3IgfHwgIXVzZXIpIHtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbShcInVzZXJfYWNoaWV2ZW1lbnRzXCIpXHJcbiAgICAuc2VsZWN0KFxyXG4gICAgICBgXHJcbiAgICAgIGlkLFxyXG4gICAgICB1bmxvY2tlZF9hdCxcclxuICAgICAgYWNoaWV2ZW1lbnRzIChcclxuICAgICAgICBpZCxcclxuICAgICAgICBjb2RlLFxyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgZGVzY3JpcHRpb24sXHJcbiAgICAgICAgaWNvbl91cmwsXHJcbiAgICAgICAgeHBfcmV3YXJkLFxyXG4gICAgICAgIGNhdGVnb3J5XHJcbiAgICAgIClcclxuICAgIGBcclxuICAgIClcclxuICAgIC5lcShcInVzZXJfaWRcIiwgdXNlci5pZClcclxuICAgIC5vcmRlcihcInVubG9ja2VkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuXHJcbiAgaWYgKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwi7JeF7KCBIOyhsO2ajCDsi6TtjKg6XCIsIGVycm9yKTtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcblxyXG4gIHJldHVybiBkYXRhIHx8IFtdO1xyXG59XHJcblxyXG4vKipcclxuICog7IKs7Jqp7J6QIO2ZnOuPmSDroZzqt7gg7KGw7ZqMXHJcbiAqIEBwYXJhbSBsaW1pdCAtIOyhsO2ajO2VoCDroZzqt7gg7IiYICjquLDrs7jqsJI6IDUwKVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFjdGl2aXR5TG9ncyhsaW1pdDogbnVtYmVyID0gNTApIHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xyXG5cclxuICBjb25zdCB7XHJcbiAgICBkYXRhOiB7IHVzZXIgfSxcclxuICAgIGVycm9yOiB1c2VyRXJyb3IsXHJcbiAgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xyXG5cclxuICBpZiAodXNlckVycm9yIHx8ICF1c2VyKSB7XHJcbiAgICByZXR1cm4gW107XHJcbiAgfVxyXG5cclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oXCJhY3Rpdml0eV9sb2dzXCIpXHJcbiAgICAuc2VsZWN0KFwiKlwiKVxyXG4gICAgLmVxKFwidXNlcl9pZFwiLCB1c2VyLmlkKVxyXG4gICAgLm9yZGVyKFwiY3JlYXRlZF9hdFwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgIC5saW1pdChsaW1pdCk7XHJcblxyXG4gIGlmIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIu2ZnOuPmSDroZzqt7gg7KGw7ZqMIOyLpO2MqDpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIFtdO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGRhdGEgfHwgW107XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDsl4XsoIEg64us7ISxIOyytO2BrCDrsI8g67aA7JesXHJcbiAqIEBwYXJhbSBhY2hpZXZlbWVudENvZGUgLSDsl4XsoIEg7L2U65OcXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tBbmRHcmFudEFjaGlldmVtZW50KGFjaGlldmVtZW50Q29kZTogc3RyaW5nKSB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcclxuXHJcbiAgY29uc3Qge1xyXG4gICAgZGF0YTogeyB1c2VyIH0sXHJcbiAgICBlcnJvcjogdXNlckVycm9yLFxyXG4gIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcclxuXHJcbiAgaWYgKHVzZXJFcnJvciB8fCAhdXNlcikge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLy8g7J2066+4IOuLrOyEse2WiOuKlOyngCDtmZXsnbhcclxuICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oXCJ1c2VyX2FjaGlldmVtZW50c1wiKVxyXG4gICAgLnNlbGVjdChcImlkXCIpXHJcbiAgICAuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXHJcbiAgICAuZXEoXCJhY2hpZXZlbWVudHMuY29kZVwiLCBhY2hpZXZlbWVudENvZGUpXHJcbiAgICAuc2luZ2xlKCk7XHJcblxyXG4gIGlmIChleGlzdGluZykge1xyXG4gICAgcmV0dXJuIGZhbHNlOyAvLyDsnbTrr7gg64us7ISx7ZWoXHJcbiAgfVxyXG5cclxuICAvLyDsl4XsoIEg7KCV67O0IOyhsO2ajFxyXG4gIGNvbnN0IHsgZGF0YTogYWNoaWV2ZW1lbnQsIGVycm9yOiBhY2hpZXZlbWVudEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oXCJhY2hpZXZlbWVudHNcIilcclxuICAgIC5zZWxlY3QoXCIqXCIpXHJcbiAgICAuZXEoXCJjb2RlXCIsIGFjaGlldmVtZW50Q29kZSlcclxuICAgIC5lcShcImlzX2FjdGl2ZVwiLCB0cnVlKVxyXG4gICAgLnNpbmdsZSgpO1xyXG5cclxuICBpZiAoYWNoaWV2ZW1lbnRFcnJvciB8fCAhYWNoaWV2ZW1lbnQpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8vIOyXheyggSDrtoDsl6xcclxuICBjb25zdCB7IGVycm9yOiBpbnNlcnRFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKFwidXNlcl9hY2hpZXZlbWVudHNcIilcclxuICAgIC5pbnNlcnQoe1xyXG4gICAgICB1c2VyX2lkOiB1c2VyLmlkLFxyXG4gICAgICBhY2hpZXZlbWVudF9pZDogYWNoaWV2ZW1lbnQuaWQsXHJcbiAgICB9KTtcclxuXHJcbiAgaWYgKGluc2VydEVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwi7JeF7KCBIOu2gOyXrCDsi6TtjKg6XCIsIGluc2VydEVycm9yKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8vIOyXheyggSDrs7Tsg4EgWFAg7KeA6riJXHJcbiAgaWYgKGFjaGlldmVtZW50LnhwX3Jld2FyZCA+IDApIHtcclxuICAgIGF3YWl0IGxvZ0FjdGl2aXR5KFwiZGFpbHlfbG9naW5cIiwgYWNoaWV2ZW1lbnQueHBfcmV3YXJkLCB7XHJcbiAgICAgIGFjaGlldmVtZW50X2NvZGU6IGFjaGlldmVtZW50Q29kZSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTdHJlYWsg7IiY64+ZIOqzhOyCsCAo7YWM7Iqk7Yq47JqpKVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNhbGN1bGF0ZVN0cmVhaygpIHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xyXG5cclxuICBjb25zdCB7XHJcbiAgICBkYXRhOiB7IHVzZXIgfSxcclxuICAgIGVycm9yOiB1c2VyRXJyb3IsXHJcbiAgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xyXG5cclxuICBpZiAodXNlckVycm9yIHx8ICF1c2VyKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYyhcImNhbGN1bGF0ZV91c2VyX3N0cmVha1wiLCB7XHJcbiAgICBwX3VzZXJfaWQ6IHVzZXIuaWQsXHJcbiAgfSk7XHJcblxyXG4gIGlmIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIlN0cmVhayDqs4TsgrAg7Iuk7YyoOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIHJldHVybiBkYXRhO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJyZXZhbGlkYXRlUGF0aCIsImxvZ0FjdGl2aXR5IiwiYWN0aXZpdHlUeXBlIiwieHBFYXJuZWQiLCJtZXRhZGF0YSIsInN1cGFiYXNlIiwiZGF0YSIsInVzZXIiLCJlcnJvciIsInVzZXJFcnJvciIsImF1dGgiLCJnZXRVc2VyIiwiRXJyb3IiLCJmcm9tIiwiaW5zZXJ0IiwidXNlcl9pZCIsImlkIiwiYWN0aXZpdHlfdHlwZSIsInhwX2Vhcm5lZCIsImFjdGl2aXR5X2RhdGUiLCJEYXRlIiwidG9JU09TdHJpbmciLCJzcGxpdCIsImNvbnNvbGUiLCJnZXRHYW1pZmljYXRpb25Qcm9maWxlIiwic2VsZWN0IiwiZXEiLCJzaW5nbGUiLCJjb2RlIiwiY3VycmVudF9zdHJlYWsiLCJsb25nZXN0X3N0cmVhayIsInRvdGFsX3hwIiwid2Vla2x5X3hwIiwibGV2ZWwiLCJsYXN0X2FjdGl2aXR5X2F0IiwiZ2V0VXNlckFjaGlldmVtZW50cyIsIm9yZGVyIiwiYXNjZW5kaW5nIiwiZ2V0QWN0aXZpdHlMb2dzIiwibGltaXQiLCJjaGVja0FuZEdyYW50QWNoaWV2ZW1lbnQiLCJhY2hpZXZlbWVudENvZGUiLCJleGlzdGluZyIsImFjaGlldmVtZW50IiwiYWNoaWV2ZW1lbnRFcnJvciIsImluc2VydEVycm9yIiwiYWNoaWV2ZW1lbnRfaWQiLCJ4cF9yZXdhcmQiLCJhY2hpZXZlbWVudF9jb2RlIiwiY2FsY3VsYXRlU3RyZWFrIiwicnBjIiwicF91c2VyX2lkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./app/actions/gamification.ts\n");

/***/ })

};
;